var dalenys;(()=>{var e={493:(e,t,o)=>{var n=o(606),s=o(60),i=o(168),r=o(843),a=o(461),l=o(858),d=o(610).hostedFieldsTypesEnum,c=o(610).hostedFieldsTypes,f=o(279),h=o(171),u=o(448),p=o(407),y=o(865),m=o(728),v=o(862),b=o(919);s.loadPrototypes(),n.loadPrototypes(),i.loadPrototypes(),r.loadPrototypes(),e.exports=function(e){var t="2.0.0",o=null,n=[],s={},i=[],r=function(){i.forEach((function(e){e.remove()})),i=[],n=[],s={},v.unbind()},E=function(){var t=e.key;if("object"!=typeof t)throw new a('"key" parameter must be an object');if(!1===t.hasOwnProperty("id"))throw new a('"key" parameter must have an "id" property');if(!1===t.hasOwnProperty("value"))throw new a('"key" parameter must have a "value" property')},g=function(){if(!1===e.hasOwnProperty("fields"))throw new a('Missing "fields" parameter');for(var t in e.fields){if(-1===d.indexOf(t))throw new a('Field "'+t+'" is not supported');A(e.fields[t],t)}w()},w=function(){for(var t={bankcard:[c.card,c.expiry,c.cryptogram],bankcardWithBrandSelector:[c.card,c.expiry,c.cryptogram,c.brand],maestro:[c.card,c.expiry],maestroWithBrandSelector:[c.card,c.expiry,c.brand],cvvOnly:[c.cryptogram]},o=!1,n=Object.keys(e.fields),s=0;s<Object.keys(t).length;s++){var i=Object.keys(t)[s];if(1==(o=C(n,t[i])))break}if(!1===o)throw new a("Field configuration is not valid")},C=function(e,t){if(e.length!=t.length)return!1;for(var o=!0,n=0;n<e.length;n++)o=t.includes(e[n])&&o;return o},A=function(e,t){if("object"!=typeof e)throw new a('Field "'+t+'" is not an object');_(e,t),!0===e.hasOwnProperty("style")&&O(e,t),!0===e.hasOwnProperty("length")&&k(e.length)},_=function(e,t){if(!1===e.hasOwnProperty("id"))throw new a('Field "'+t+'" is missing "id" property')},x=function(){for(var t in e.fields){var o=e.fields[t];if(null===document.getElementById(o.id))throw new a('Could not find id "'+o.id+'" in DOM for field "'+t+'".')}},O=function(e,t){for(var o in e.style){if(-1===p.indexOf(o))throw new a('Property "'+o+'" for field "'+t+'" is not supported');if("object"!=typeof e.style[o])throw new a('Css class "'+o+'" for field "'+t+'" is not an object');S(e.style[o],o,t)}},S=function(e,t,o){for(var n in e)if(-1==y.indexOf(n))throw new a('Css property "'+n+'" on class "'+t+'" for field "'+o+'" is not supported')},k=function(e){var t=e<3||e>4;if("number"!=typeof e||e%1!=0)throw new a("Length property is not an integer");if(t)throw new a("Length property must be 3 or 4")},P=function(){var e=F(),t=document.createElement("iframe");t.setAttribute("src",e),t.setAttribute("id","hosted-fields-frame-controller"),t.setAttribute("name","hosted-fields-frame-controller"),t.setAttribute("style","display:none"),document.body.appendChild(t),i.push(t)},L=function(e,t){Object.keys(e).map((function(o){-1!==d.indexOf(o)&&I(o,e[o],t)}))},I=function(e,t,o){var r=document.getElementById(t.id);if(t.placeholder=B(t.placeholder),null!=t.style&&(t.style=j(t.style)),null!=t.isCbPreferredNetwork&&(t.isCbPreferredNetwork=B(t.isCbPreferredNetwork.toString())),null!=t.enableAutospacing&&(t.enableAutospacing=B(t.enableAutospacing.toString())),null!==r){var a=N(e,t,o),l=document.createElement("iframe"),d="hosted-fields-frame-"+e;l.setAttribute("id",d),l.setAttribute("name",d),l.setAttribute("src",a),l.setAttribute("frameborder","0"),l.setAttribute("scrolling","no"),l.setAttribute("style","border: none; margin: 0px; padding: 0px; width: 1px; min-width: 100%; height: 100%; overflow: hidden; display: block;"),r.appendChild(l);var c=new m(r);c.setEmptyState(),s[e]=c,n.push(e),i.push(l),document.getElementById("hosted-fields-frame-brand")&&document.getElementById("hosted-fields-frame-brand").setAttribute("tabindex","-1")}},N=function(t,o,n){var s=u.hostedFieldsUrl+"?ELEMENTTYPE="+t+"&APIKEYID="+B(e.key.id)+"&APIKEY="+B(e.key.value)+"&LOCALE="+T()+"&CRYPTOGRAM="+n;return void 0!==o.style&&null!==o.style&&(s+="&STYLE="+o.style),void 0!==o.placeholder&&null!==o.placeholder&&(s+="&PLACEHOLDER="+o.placeholder),void 0!==o.isCbPreferredNetwork&&null!==o.isCbPreferredNetwork&&(s+="&ISCBPREFERREDNETWORK="+o.isCbPreferredNetwork),void 0!==o.enableAutospacing&&null!==o.enableAutospacing&&(s+="&ENABLEAUTOSPACING="+o.enableAutospacing),t==c.cryptogram&&void 0!==o.length&&(s+="&LENGTH="+o.length),s+="&VERSION=2.0.0"},T=function(){var t="en";return"string"==typeof e.locale&&(t=e.locale),t},F=function(){var o=j(n);return u.hostedFieldsUrl+"?ELEMENTTYPE=controller&ELEMENTS="+o+"&APIKEYID="+B(e.key.id)+"&APIKEY="+B(e.key.value)+"&LOCALE="+T()+"&VERSION="+t},j=function(e){var t=null;return"object"==typeof e&&(t=b(JSON.stringify(e))),t},B=function(e){var t=null;return"string"==typeof e&&(t=encodeURIComponent(e)),t},M=function(e){try{var t=JSON.parse(e.data)}catch(e){return}switch(t.type){case h.tokenizeResponse:R(t);break;case h.emptyElement:case h.validElement:case h.invalidElement:case h.disabledElement:case h.enabledElement:case h.inputElement:z(t);break;case h.blurElement:Y(t);break;case h.touchStart:D(t);break;case h.focusElement:K(t);break;default:throw new l("Received invalid event '"+t.type+"' from '"+e.origin+"'")}},R=function(e){o&&o(e.responseMessage)},D=function(e){V(e)},V=function(e){var t=document.activeElement;-1!=f.indexOf(t.id)&&document.getElementById("hosted-fields-frame-controller").contentWindow.postMessage(JSON.stringify({type:h.touchStart,fieldName:t.id}),u.hostedFieldsDomain)},z=function(t){var o=t.element,n=e.fields[o];s[o].toggleClasses(t.type),"function"==typeof n.onInput&&n.onInput(t)},Y=function(t){var o=t.element,n=e.fields[o];s[o].removeFocusState(),"function"==typeof n.onBlur&&n.onBlur(t)},K=function(t){var o=t.element,n=e.fields[o];s[o].addFocusState(),"function"==typeof n.onFocus&&n.onFocus(t)};return this.createToken=function(e){o=e,document.getElementById("hosted-fields-frame-controller").contentWindow.postMessage(JSON.stringify({type:h.tokenize}),u.hostedFieldsDomain)},this.load=function(){!function(){r(),x();var t=void 0!==e.fields[c.cryptogram],o=JSON.parse(JSON.stringify(e));L(o.fields,t),P(o),v.bind(M,this)}()},this.dispose=function(){r()},function(){if("object"!=typeof e||null===e)throw new a("Expected object as parameters");if(!1===e.hasOwnProperty("key"))throw new a('Missing "key" parameter');E(),g()}(),this}},728:(e,t,o)=>{var n=o(171);e.exports=function(e){this.inputElement=e,this._addClass=function(e){if(!1===this._containClass(e)){var t=this._getClassAttributeValue();t.length>0?this._setClassAttributeValue(t+" "+e):this._setClassAttributeValue(e)}},this._removeClass=function(e){if(!0===this._containClass(e)){for(var t=this._getClassAttributeValue().split(" "),o=0;o<t.length;o++)if(t[o]===e){t.splice(o,1);break}this._setClassAttributeValue(t.join(" "))}},this._containClass=function(e){return-1!==this._getClassAttributeValue().indexOf(e)},this._getClassAttributeValue=function(){var e=this.inputElement.getAttribute("class");return null==e?"":e},this._setClassAttributeValue=function(e){this.inputElement.setAttribute("class",e)},this.setCompleteState=function(){this._addClass("hosted-fields-valid-state"),this._removeClass("hosted-fields-invalid-state"),this._removeClass("hosted-fields-empty-state")},this.setErrorState=function(){this._addClass("hosted-fields-invalid-state"),this._removeClass("hosted-fields-valid-state"),this._removeClass("hosted-fields-empty-state")},this.setEmptyState=function(){this._addClass("hosted-fields-empty-state"),this._removeClass("hosted-fields-invalid-state"),this._removeClass("hosted-fields-valid-state")},this.setBasicState=function(){this._removeClass("hosted-fields-empty-state"),this._removeClass("hosted-fields-invalid-state"),this._removeClass("hosted-fields-valid-state")},this.setDisabledState=function(){this.inputElement.value=null,this._addClass("hosted-fields-disabled-state"),this._addClass("hosted-fields-empty-state"),this._removeClass("hosted-fields-invalid-state"),this._removeClass("hosted-fields-valid-state")},this.setEnabledState=function(){this._removeClass("hosted-fields-invalid-state"),this._removeClass("hosted-fields-valid-state"),this._removeClass("hosted-fields-disabled-state")},this.addHoverState=function(){this._addClass("hosted-fields-hover-state")},this.removeHoverState=function(){this._removeClass("hosted-fields-hover-state")},this.addFocusState=function(){this._addClass("hosted-fields-focus-state")},this.removeFocusState=function(){this._removeClass("hosted-fields-focus-state")},this.removeInvalidState=function(){this._removeClass("hosted-fields-invalid-state")},this.toggleClasses=function(e){switch(e){case n.emptyElement:this.setEmptyState();break;case n.invalidElement:this.setErrorState();break;case n.validElement:this.setCompleteState();break;case n.disabledElement:this.setDisabledState();break;case n.enabledElement:this.setEnabledState()}},this.toggle=function(e){this._containClass(e)?this._removeClass(e):this._addClass(e)},this.add=function(e){!1===this._containClass(e)&&this._addClass(e)},this.remove=function(e){this._containClass(e)&&this._removeClass(e)}}},862:e=>{e.exports=new function(){var e=window.addEventListener?window.addEventListener:window.attachEvent,t=window.removeEventListener?window.removeEventListener:window.detachEvent,o=window.addEventListener?"message":"onmessage",n=null;this.bind=function(t,s){e(o,n=function(e){t.call(s,e)})},this.unbind=function(){null!==n&&t(o,n)}}},407:e=>{e.exports=["input",":empty",":valid",":invalid",":focus",":hover","::placeholder"]},865:e=>{e.exports=["color","font-family","font-size","font-style","font-variant","font-weight","font-smooth","line-height","letter-spacing","text-decoration","text-shadow","text-transform","background-color"]},171:e=>{e.exports={tokenize:"tokenize",tokenizeResponse:"tokenizeResponse",invalidElement:"invalid",validElement:"valid",emptyElement:"empty",focusElement:"focus",blurElement:"blur",inputElement:"input",disabledElement:"disabled",enabledElement:"enabled",validateElement:"validate",triggerBlur:"triggerBlur",touchStart:"touchStart"}},279:e=>{e.exports=["hosted-fields-frame-card","hosted-fields-frame-expiry","hosted-fields-frame-cryptogram","hosted-fields-frame-brand"]},610:e=>{e.exports={hostedFieldsTypesEnum:["card","expiry","cryptogram","brand"],hostedFieldsTypes:{card:"card",expiry:"expiry",cryptogram:"cryptogram",brand:"brand"}}},448:e=>{e.exports={hostedFieldsUrl:"https://secure-magenta1.be2bill.com/hosted-fields/service/hosted-fields",hostedFieldsDomain:"https://secure-magenta1.be2bill.com",internalBinService:"https://processing.dalenys.com/v2/bin",tokenize:["https://secure-magenta1.be2bill.com/hosted-fields/service/tokenize"]}},858:e=>{e.exports=function(e){this.message=e}},461:e=>{e.exports=function(e){this.message=e}},60:e=>{e.exports=new function(){this.loadPrototypes=function(){this._loadIndexOf(),this._loadMap(),this._loadForEach(),this._loadIncludes()},this._loadMap=function(){Array.prototype.map||(Array.prototype.map=function(e){var t,o,n;if(null==this)throw new TypeError("this is null or not defined");var s=Object(this),i=s.length>>>0;if("function"!=typeof e)throw new TypeError(e+" is not a function");for(arguments.length>1&&(t=arguments[1]),o=new Array(i),n=0;n<i;){var r,a;n in s&&(r=s[n],a=e.call(t,r,n,s),o[n]=a),n++}return o})},this._loadIndexOf=function(){Array.prototype.indexOf||(Array.prototype.indexOf=function(e,t){var o;if(null==this)throw new TypeError('"this" is null or not defined');var n=Object(this),s=n.length>>>0;if(0===s)return-1;var i=0|t;if(i>=s)return-1;for(o=Math.max(i>=0?i:s-Math.abs(i),0);o<s;){if(o in n&&n[o]===e)return o;o++}return-1})},this._loadForEach=function(){Array.prototype.forEach||(Array.prototype.forEach=function(e,t){if("function"!=typeof e)throw new TypeError(e+" is not a function");var o=this;t=t||this;for(var n=0,s=o.length;n!==s;++n)e.call(t,o[n],n,o)}),NodeList.prototype.forEach||(NodeList.prototype.forEach=Array.prototype.forEach),HTMLCollection.prototype.forEach||(HTMLCollection.prototype.forEach=Array.prototype.forEach)},this._loadIncludes=function(){Array.prototype.includes||(Array.prototype.includes=function(e){for(var t=!1,o=0,n=this.length;o!==n;++o)this[o]==e&&(t=!0);return t})}}},843:e=>{e.exports=new function(){this.loadPrototypes=function(){this._loadAddEventListener(),this._loadRemove()},this._loadAddEventListener=function(){Element.prototype.addEventListener||(Element.prototype.addEventListener=function(e,t){this.attachEvent(e,t)})},this._loadRemove=function(){Element.prototype.remove||(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)})}}},606:e=>{e.exports=new function(){this.loadPrototypes=function(){this._loadKeys()},this._loadKeys=function(){Object.keys||(Object.keys=function(){"use strict";var e=Object.prototype.hasOwnProperty,t=!{toString:null}.propertyIsEnumerable("toString"),o=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],n=o.length;return function(s){if("function"!=typeof s&&("object"!=typeof s||null===s))throw new TypeError("Object.keys called on non-object");var i,r,a=[];for(i in s)e.call(s,i)&&a.push(i);if(t)for(r=0;r<n;r++)e.call(s,o[r])&&a.push(o[r]);return a}}())}}},168:(e,t)=>{e.exports=new function(){this.loadPrototypes=function(){this._loadBtoa()},this._loadBtoa=function(){Window.prototype.btoa||(Window.prototype.btoa=function(){var e=t,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function n(e){this.message=e}n.prototype=new Error,n.prototype.name="InvalidCharacterError",e.btoa||(e.btoa=function(e){for(var t,s,i=String(e),r=0,a=o,l="";i.charAt(0|r)||(a="=",r%1);l+=a.charAt(63&t>>8-r%1*8)){if((s=i.charCodeAt(r+=3/4))>255)throw new n("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");t=t<<8|s}return l}),e.atob||(e.atob=function(e){var t=String(e).replace(/[=]+$/,"");if(t.length%4==1)throw new n("'atob' failed: The string to be decoded is not correctly encoded.");for(var s,i,r=0,a=0,l="";i=t.charAt(a++);~i&&(s=r%4?64*s+i:i,r++%4)?l+=String.fromCharCode(255&s>>(-2*r&6)):0)i=o.indexOf(i);return l})})}}},919:e=>{e.exports=function(e){function t(e){this.message=e}t.prototype=new Error,t.prototype.name="InvalidCharacterError";for(var o,n,s=String(e),i=0,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",a="";s.charAt(0|i)||(r="=",i%1);a+=r.charAt(63&o>>8-i%1*8)){if((n=s.charCodeAt(i+=3/4))>255)throw new t("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");o=o<<8|n}return a}}},t={};var o=function o(n){var s=t[n];if(void 0!==s)return s.exports;var i=t[n]={exports:{}};return e[n](i,i.exports,o),i.exports}(493);(dalenys=void 0===dalenys?{}:dalenys).hostedFields=o})();var be2bill;(be2bill = void 0 === be2bill ? dalenys : be2bill);
