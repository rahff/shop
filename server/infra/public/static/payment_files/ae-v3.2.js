var AeTracker={readyStateCheckInterval:null,cookieRegeneration:"",isAdvertiserFirst:0,initTime:0,init:function(a){a="object"===typeof a&&null!==a?a:{};this.version="3.2";this.pid=a.pid||0;this.host=a.host||"https://lb.affilae.com";this.advertiserFirst=a.advertiserFirst||21600;this.allowSiteUnder=a.allowSiteUnder||!1;this.allowIframing=a.allowIframing||!1;this.forceReferrer=a.forceReferrer||!1;this.ip=a.ip||null;this.tracker=a.tracker||null;this.customVar=a.customVar||"";this.ptID=null;this.debug=
a.debug||!1;this.timerLimit=a.timerLimit||10;this.cookieNameForIP=a.cookieNameForIP||"AeIP";this.cookieNameForAdvertiserFirst=a.cookieNameForAdvertiserFirst||"AeFirst";this.referrer=a.referrer||"";this.debugId=a.debugId||"aeDebug";!1===this.allowIframing&&top.location!=location&&(top.location.href=document.location.href);if(this.forceReferrer&&"undefined"==typeof document.referrer)return this.log("no referrer, now exiting"),!1;this.readyStateCheckInterval=setInterval(AeTracker.checkReadyState,500)},
checkReadyState:function(){if("complete"==document.readyState||"interactive"==document.readyState)AeTracker.log("document ready"),AeTracker.initTime=(new Date).getTime(),clearInterval(AeTracker.readyStateCheckInterval),AeTracker.log("User Agent: "+navigator.userAgent),/iPhone|iPod|iPad|Android|opera\smini|blackberry|palm\sos|palm|hiptop|avantgo|plucker|xiino|blazer|elaine|iris|3g_t|windows\sce|opera\smobi|windows\sce;\ssmartphone;|windows\sce;\siemobile/i.test(navigator.userAgent)||!0===AeTracker.allowSiteUnder?
(AeTracker.log("Mobile UA, activate"),AeTracker.execute()):null!=document.addEventListener?document.addEventListener("mousemove",AeTracker.checkTimer,!0):document.attachEvent("onmousemove",AeTracker.checkTimer)},execute:function(){this.log("executed");this.checkCookieForRegen();this.tracker||this.findTracker();this.tracker?this.initTracking():this.cookieRegeneration&&this.initTrackingRegen();null==this.readCookie(this.cookieNameForAdvertiserFirst+this.pid)&&(this.log("set cookie advertiser first"),
this.createCookie(this.cookieNameForAdvertiserFirst+this.pid,(new Date).getTime(),this.advertiserFirst));this.tracker||this.detachTimerEvent();this.log("end")},initTrackingRegen:function(){var a=this.host+"/?p="+this.pid+"&rg="+this.cookieRegeneration;this.debug?this.injectIframe(a,2,50,400,""):this.injectIframe(a,0,0,0,"position: absolute;")},initTracking:function(){this.log("init tracking");var a=this.tracker.split("-");"undefined"==typeof a[1]&&(a[1]="");document.referrer&&(this.referrer=document.referrer);
var c=this.readCookie(this.cookieNameForAdvertiserFirst+this.pid);c&&"false"!=c&&(this.isAdvertiserFirst=1);a=this.host+"/?p="+this.pid+"&lp="+encodeURIComponent(document.location.href)+"&af="+a[0]+"&ad="+a[1]+"&cv="+this.customVar+"&advfirst="+this.isAdvertiserFirst+"&advtime="+c+"&r="+encodeURIComponent(this.referrer)+"&rg="+this.cookieRegeneration+"&pt="+this.ptID+"&v="+this.version;this.debug?this.injectIframe(a,2,50,400,""):this.injectIframe(a,0,0,0,"position: absolute;");!this.readCookie(this.cookieNameForAdvertiserFirst+
this.pid)&&0<this.advertiserFirst&&this.createCookie(this.cookieNameForAdvertiserFirst+this.pid,!1,this.advertiserFirst)},injectIframe:function(a,c,b,d,f){this.log("injecting iframe "+a);var e=document.createElement("iframe");e.setAttribute("src",a);e.setAttribute("frameborder",c);e.setAttribute("height",b);e.setAttribute("width",d);e.setAttribute("style",f);document.getElementsByTagName("body")[0].appendChild(e)},findTracker:function(){var a=new String(window.location);if(-1!=a.indexOf("#")){this.log('finding in "#"');
var c=a.split("#")[1];if(!this.customVar){var b=/aev([^&]+)/;if(b=b.exec(c))this.customVar=b[1]}!this.ptID&&(b=/(aept=|aept)([^&]+)/,b=b.exec(c))&&(this.ptID=b[2]);b=/ae([^&v]+)/;b=b.exec(c);null!=b&&(this.tracker=b[1])}this.tracker||-1==a.indexOf("?")||(this.log('finding in "?"'),b=/(\?|&)+ae=([^&|#]+)/,b=b.exec(a),null!=b&&(this.tracker=b[2]),!this.ptID&&(b=/(\?|&)+aept=([^&|#]+)/,b=b.exec(a))&&(this.ptID=b[2]),!this.customVar&&(b=/(\?|&)+aev=([^&|#]+)/,b=b.exec(a))&&(this.customVar=b[2]));this.log("tracker found is "+
this.tracker);this.log("custom var found is "+this.customVar)},checkCookieForRegen:function(){this.log("check cookie for regen");if(this.ip){var a=this.readCookie(this.cookieNameForIP);null==a&&(this.cookieRegeneration="cookie");a&&a!=this.ip&&(this.cookieRegeneration="ip");this.createCookie(this.cookieNameForIP,this.ip,525600);this.log("cookie IP set for "+this.ip+", had to regen "+this.cookieRegeneration)}},createCookie:function(a,c,b){if(b){var d=new Date;d.setTime(d.getTime()+6E4*b);b="; expires="+
d.toGMTString()}else b="";document.cookie=a+"="+c+b+"; samesite=lax; path=/"},readCookie:function(a){a+="=";for(var c=document.cookie.split(";"),b,d=0;d<c.length;d++){for(b=c[d];" "==b.charAt(0);)b=b.substring(1,b.length);if(0==b.indexOf(a))return b.substring(a.length,b.length)}return null},detachTimerEvent:function(){null!=document.removeEventListener?document.removeEventListener("mousemove",AeTracker.checkTimer,!0):document.detachEvent("onmousemove",AeTracker.checkTimer)},checkTimer:function(){AeTracker.log("check timer");
(new Date).getTime()-AeTracker.initTime<1E3*AeTracker.timerLimit&&AeTracker.execute();AeTracker.detachTimerEvent()},log:function(a){AeTracker.debug&&("complete"==document.readyState&&(document.createElement("p").innerHTML=a+""),console.log(a))}};try{AeTracker.init(_ae)}catch(a){};
